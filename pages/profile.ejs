<%- include('blocks/head.ejs', {title: 'Ваши записи'}) %>
<div class="container center">
    <h4 class="header">
        Ваши записи:
    </h4>
    <% if (are_notes === true) { %>
        <div class="row">
            <% notes.forEach((note) => { %>
                <div class="col s12 m6 l4">
                    <div class="card <% if (theme === 'dark') { %>blue-grey<% } else { %>hoverable<% } %>">
                        <div class="card-content">
                    <span class="card-title">
                        <%= note.heading %>
                    </span>
                            <p class="two-lines">
                                <%= note.text %>
                            </p>
                            <div class="card-action">
                                <a style="cursor: pointer" class="read">
                                    <i class="material-icons tiny">book</i>
                                    Читать
                                    <input type="hidden" value="<%= note.id %>">
                                </a>
                                <a style="cursor: pointer" class="change">
                                    <i class="material-icons tiny">edit</i>
                                    Изменить
                                    <input type="hidden" value="<%= note.id %>">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            <% }) %>
        </div>
    <% } else { %>
        <h4 id="no-notes">У вас ещё нет записей</h4>
    <% } %>
    <div class="row">
        <div class="col s12 m4">
            <a class="waves-effect waves-light btn <% if (theme === 'dark') { %>blue-grey<% } %>" id="new_note_button">
                <i class="material-icons left">add</i>
                Создать запись
            </a>
        </div>
        <div class="col s12 m4">
            <div class="hide-on-med-and-up">
                <br>
            </div>
            <a id="sync-button" class="btn <% if (theme === 'dark') { %>blue-grey<% } %> waves-effect waves-light">
                <i class="material-icons left">cloud</i>
                Синхронизировать
            </a>
        </div>
        <div class="col s12 m4">
            <div class="hide-on-med-and-up">
                <br>
            </div>
            <h5>
                Тема:
            </h5>
            <div class="switch" id="change-theme-button">
                <label>
                    <i class="material-icons tiny">light_mode</i>
                    Светлая
                    <input type="checkbox" <% if (theme === 'dark'){ %>checked
                            <% } %>
                    >
                    <span class="lever"></span>
                    <i class="material-icons tiny">dark_mode</i>
                    Тёмная
                </label>
            </div>
        </div>
    </div>
</div>
<script>
    let event = new Event('init-for-profile-page')
    window.dispatchEvent(event)
</script>
<%- include('blocks/footer.ejs') %>
